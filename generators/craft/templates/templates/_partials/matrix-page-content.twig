{# =============================================================== #}
{# Matrix Page Content
{# =============================================================== #}
{#
  {% include '_partials/matrix-page-content' with {
    matrixBlock: 'pageContent',
    debug: false
  } %}
#}

{% set matrixBlock = matrixBlock ?? 'pageContent' %}

{% import '_macros/matrix' as matrix %}

{% set element = element ?? entry %}

{% if element %}
  {% if element[matrixBlock] is defined and element[matrixBlock] | length %}
    {% for block in element[matrixBlock].all() %}
      {% embed '_embeds/l-section' with {
        classes: classes ?? '',
        modifiers: [block.type] | merge(matrix.blockClasses(block))
      } %}
        {% block content %}
          {% include '_partials/blocks/' ~ block.type ignore missing %}

          {% if debug ?? false %}
            <div
              style="display: inline-block; left: 0; padding-left: 30px; position: absolute; z-index: 1;"
            >
              <p
                style="font-weight: bold; font-size: 15px; line-height: 1; color: #fff; background-color: #333; border-radius: 3px; display: inline-block; position: relative; top: -60px; padding: 8px 9px 7px;">{{ block.type.name }}</p>
            </div>
          {% endif %}
        {% endblock %}
      {% endembed %}
    {% endfor %}
  {% endif %}
{% endif %}
